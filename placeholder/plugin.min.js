tinymce.PluginManager.add("placeholder",function(o,e){o.options.register("placeholders",{processor:function(e){return Array.isArray(e)},default:[]});var t={curly_braces:{openTag:"{",closeTag:"}",noneditableRegExp:/\{[^\}]*\}/g,selectedRegExp:/^\{([^\}]*)\}$/},square_braces:{openTag:"[",closeTag:"]",noneditableRegExp:/\[[^\]]*\]/g,selectedRegExp:/^\[([^\]]*)\]$/},double_curly_braces:{openTag:"{{",closeTag:"}}",noneditableRegExp:/\{\{[^\}]*\}\}/g,selectedRegExp:/^\{\{([^\}]*)\}\}$/},double_square_braces:{openTag:"[[",closeTag:"]]",noneditableRegExp:/\[\[[^\]]*\]\]/g,selectedRegExp:/^\[\[([^\]]*)\]\]$/},curly_brace_exclamation:{openTag:"{!",closeTag:"!}",noneditableRegExp:/\{\![^\!][^\}]*\!\}/g,selectedRegExp:/^\{\!([^\!][^\}]*)\!\}$/},square_brace_exclamation:{openTag:"[!",closeTag:"!]",noneditableRegExp:/\[\![^\!][^\]]*\!\]/g,selectedRegExp:/^\[\!([^\!][^\]]*)\!\]$/}};o.options.register("placeholder_type",{processor:function(e){return e in t||(console.error("Invalid placeholder_type ["+e+"] passed to the tinyMCE editor!"),!1)},default:"double_square_braces"}),o.options.register("placeholder_style",{processor:"string",default:"{ color: darkblue; background-color: yellow;}"});var l=t[o.options.get("placeholder_type")];o.options.get("noneditable_regexp").push(l.noneditableRegExp);var n,a=o.options.get("placeholder_style");""!=a&&(void 0===(n=o.options.get("content_style"))&&(n=""),n+=".mceNonEditable "+a,o.options.set("content_style",n));var r,c=o.options.get("placeholders"),s=[];for(r in c)if("object"==typeof c[r]&&c[r].value){const i=l.openTag+c[r].value+l.closeTag;s.push({type:"menuitem",text:c[r].text||c[r].value,onAction:()=>{o.insertContent(i.slice(0))}})}else if("string"==typeof c[r]){const g=l.openTag+c[r]+l.closeTag;s.push({type:"menuitem",text:c[r],onAction:()=>{o.insertContent(g.slice(0))}})}0<s.length&&o.ui.registry.addMenuButton("placeholder",{text:"Placeholders",fetch:e=>{e(s)}}),o.on("dblclick",()=>{const e=o.selection.getContent();var t=e.match(l.selectedRegExp);null!==t&&(console.log("Placeholder: "+t[0]+" dbl-clicked"),p(t[1]))});const p=function(e){o.windowManager.open({title:"Edit placeholder value",body:{type:"panel",items:[{type:"input",name:"placeholder",label:"Current value",placeholder:"test"}]},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Save",buttonType:"primary"}],initialData:{placeholder:e},onSubmit:e=>{var t=e.getData();o.insertContent(l.openTag+t.placeholder+l.closeTag),e.close()}})}}),tinymce.PluginManager.requireLangPack("placeholder","de");