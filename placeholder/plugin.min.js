tinymce.PluginManager.add("placeholder",(function(e,t){e.options.register("placeholders",{processor:function(e){return Array.isArray(e)},default:[]});const o={curly_braces:{openTag:"{",closeTag:"}",noneditableRegExp:/\{[^\}]*\}/g,selectedRegExp:/^\{([^\}]*)\}$/},square_braces:{openTag:"[",closeTag:"]",noneditableRegExp:/\[[^\]]*\]/g,selectedRegExp:/^\[([^\]]*)\]$/},double_curly_braces:{openTag:"{{",closeTag:"}}",noneditableRegExp:/\{\{[^\}]*\}\}/g,selectedRegExp:/^\{\{([^\}]*)\}\}$/},double_square_braces:{openTag:"[[",closeTag:"]]",noneditableRegExp:/\[\[[^\]]*\]\]/g,selectedRegExp:/^\[\[([^\]]*)\]\]$/},curly_brace_exclamation:{openTag:"{!",closeTag:"!}",noneditableRegExp:/\{\![^\!][^\}]*\!\}/g,selectedRegExp:/^\{\!([^\!][^\}]*)\!\}$/},square_brace_exclamation:{openTag:"[!",closeTag:"!]",noneditableRegExp:/\[\![^\!][^\]]*\!\]/g,selectedRegExp:/^\[\!([^\!][^\]]*)\!\]$/}};e.options.register("placeholder_type",{processor:function(e){return e in o||(console.error("Invalid placeholder_type ["+e+"] passed to the tinyMCE editor!"),!1)},default:"double_square_braces"});const n=o[e.options.get("placeholder_type")];e.options.get("noneditable_regexp").push(n.noneditableRegExp),e.options.register("placeholder_style",{processor:"string",default:"{ color: darkblue; background-color: yellow;}"});var l=e.options.get("placeholder_style");if(""!=l){var a=e.options.get("content_style");void 0===a&&(a=""),a+=".mceNonEditable "+l,e.options.set("content_style",a)}e.options.register("placeholder_can_edit",{processor:"boolean",default:!0});var c=e.options.get("placeholder_can_edit"),r=e.options.get("placeholders"),s=[];for(var p in r)if("object"==typeof r[p]&&r[p].value){const t=n.openTag+r[p].value+n.closeTag;s.push({type:"menuitem",text:r[p].text||r[p].value,onAction:()=>{e.insertContent(t.slice(0))}})}else if("string"==typeof r[p]){const t=n.openTag+r[p]+n.closeTag;s.push({type:"menuitem",text:r[p],onAction:()=>{e.insertContent(t.slice(0))}})}s.length>0&&e.ui.registry.addMenuButton("placeholder",{text:"Placeholders",fetch:e=>{e(s)}}),c&&e.on("dblclick",(()=>{const t=e.selection.getContent().match(n.selectedRegExp);null!==t&&i(t[1])}));const i=function(t){e.windowManager.open({title:"Edit placeholder value",body:{type:"panel",items:[{type:"input",name:"placeholder",label:"Current value",placeholder:"test"}]},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Save",buttonType:"primary"}],initialData:{placeholder:t},onSubmit:t=>{const o=t.getData();e.insertContent(n.openTag+o.placeholder+n.closeTag),t.close()}})}})),tinymce.PluginManager.requireLangPack("placeholder","de");