tinymce.PluginManager.add("placeholder",(function(e,t){e.options.register("placeholders",{processor:function(e){return Array.isArray(e)||"string"==typeof e},default:[]});const o={curly_braces:{openTag:"{",closeTag:"}",noneditableRegExp:/\{[^\}]*\}/g,selectedRegExp:/^\{([^\}]*)\}$/},square_braces:{openTag:"[",closeTag:"]",noneditableRegExp:/\[[^\]]*\]/g,selectedRegExp:/^\[([^\]]*)\]$/},double_curly_braces:{openTag:"{{",closeTag:"}}",noneditableRegExp:/\{\{[^\}]*\}\}/g,selectedRegExp:/^\{\{([^\}]*)\}\}$/},double_square_braces:{openTag:"[[",closeTag:"]]",noneditableRegExp:/\[\[[^\]]*\]\]/g,selectedRegExp:/^\[\[([^\]]*)\]\]$/},curly_brace_exclamation:{openTag:"{!",closeTag:"!}",noneditableRegExp:/\{\![^\!][^\}]*\!\}/g,selectedRegExp:/^\{\!([^\!][^\}]*)\!\}$/},square_brace_exclamation:{openTag:"[!",closeTag:"!]",noneditableRegExp:/\[\![^\!][^\]]*\!\]/g,selectedRegExp:/^\[\!([^\!][^\]]*)\!\]$/}};e.options.register("placeholder_type",{processor:function(e){return e in o||(console.error("Invalid placeholder_type ["+e+"] passed to the tinyMCE editor!"),!1)},default:"double_square_braces"});const n=o[e.options.get("placeholder_type")];e.options.get("noneditable_regexp").push(n.noneditableRegExp),e.options.register("placeholder_style",{processor:"string",default:"{ color: darkblue; background-color: yellow;}"});var l=e.options.get("placeholder_style");if(""!=l){var a=e.options.get("content_style");void 0===a&&(a=""),a+=".mceNonEditable "+l,e.options.set("content_style",a)}e.options.register("placeholder_can_edit",{processor:"boolean",default:!0}),e.options.get("placeholder_can_edit")&&e.on("dblclick",(()=>{const t=e.selection.getContent().match(n.selectedRegExp);null!==t&&r(t[1])}));const s=function(t){var o=[];for(var l in t)if("object"==typeof t[l]&&t[l].value){const a=n.openTag+t[l].value+n.closeTag;o.push({type:"menuitem",text:t[l].text||t[l].value,onAction:()=>{e.insertContent(a.slice(0))}})}else if("string"==typeof t[l]){const a=n.openTag+t[l]+n.closeTag;o.push({type:"menuitem",text:t[l],onAction:()=>{e.insertContent(a.slice(0))}})}o.length>0&&e.ui.registry.addMenuButton("placeholder",{text:"Placeholders",fetch:e=>{e(o)}})},c=e.options.get("placeholders");"string"==typeof c?fetch(c).then((e=>{e.ok&&e.json().then(s)})):s(c);const r=function(t){e.windowManager.open({title:"Edit placeholder value",body:{type:"panel",items:[{type:"input",name:"placeholder",label:"Current value",placeholder:"test"}]},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Save",buttonType:"primary"}],initialData:{placeholder:t},onSubmit:t=>{const o=t.getData();e.insertContent(n.openTag+o.placeholder+n.closeTag),t.close()}})}})),tinymce.PluginManager.requireLangPack("placeholder","de");