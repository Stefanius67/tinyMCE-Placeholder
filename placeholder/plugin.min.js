tinymce.PluginManager.add("placeholder",function(o,e){o.options.register("placeholders",{processor:function(e){return Array.isArray(e)},default:[]});var t={curly_braces:{openTag:"{",closeTag:"}",noneditableRegExp:/\{[^\}]*\}/g,selectedRegExp:/^\{([^\}]*)\}$/},square_braces:{openTag:"[",closeTag:"]",noneditableRegExp:/\[[^\]]*\]/g,selectedRegExp:/^\[([^\]]*)\]$/},double_curly_braces:{openTag:"{{",closeTag:"}}",noneditableRegExp:/\{\{[^\}]*\}\}/g,selectedRegExp:/^\{\{([^\}]*)\}\}$/},double_square_braces:{openTag:"[[",closeTag:"]]",noneditableRegExp:/\[\[[^\]]*\]\]/g,selectedRegExp:/^\[\[([^\]]*)\]\]$/},curly_brace_exclamation:{openTag:"{!",closeTag:"!}",noneditableRegExp:/\{\![^\!][^\}]*\!\}/g,selectedRegExp:/^\{\!([^\!][^\}]*)\!\}$/},square_brace_exclamation:{openTag:"[!",closeTag:"!]",noneditableRegExp:/\[\![^\!][^\]]*\!\]/g,selectedRegExp:/^\[\!([^\!][^\]]*)\!\]$/}};o.options.register("placeholder_type",{processor:function(e){return e in t||(console.error("Invalid placeholder_type ["+e+"] passed to the tinyMCE editor!"),!1)},default:"double_square_braces"});var l=t[o.options.get("placeholder_type")];o.options.get("noneditable_regexp").push(l.noneditableRegExp),o.options.register("placeholder_style",{processor:"string",default:"{ color: darkblue; background-color: yellow;}"});var n=o.options.get("placeholder_style");""!=n&&(void 0===(r=o.options.get("content_style"))&&(r=""),r+=".mceNonEditable "+n,o.options.set("content_style",r)),o.options.register("placeholder_can_edit",{processor:"bool",default:!0});var a,r=o.options.get("placeholder_can_edit"),c=o.options.get("placeholders"),s=[];for(a in c)if("object"==typeof c[a]&&c[a].value){const i=l.openTag+c[a].value+l.closeTag;s.push({type:"menuitem",text:c[a].text||c[a].value,onAction:()=>{o.insertContent(i.slice(0))}})}else if("string"==typeof c[a]){const g=l.openTag+c[a]+l.closeTag;s.push({type:"menuitem",text:c[a],onAction:()=>{o.insertContent(g.slice(0))}})}0<s.length&&o.ui.registry.addMenuButton("placeholder",{text:"Placeholders",fetch:e=>{e(s)}}),r&&o.on("dblclick",()=>{const e=o.selection.getContent();var t=e.match(l.selectedRegExp);null!==t&&(console.log("Placeholder: "+t[0]+" dbl-clicked"),p(t[1]))});const p=function(e){o.windowManager.open({title:"Edit placeholder value",body:{type:"panel",items:[{type:"input",name:"placeholder",label:"Current value",placeholder:"test"}]},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Save",buttonType:"primary"}],initialData:{placeholder:e},onSubmit:e=>{var t=e.getData();o.insertContent(l.openTag+t.placeholder+l.closeTag),e.close()}})}}),tinymce.PluginManager.requireLangPack("placeholder","de");